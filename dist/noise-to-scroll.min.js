!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.noiseToScroll=n():e.noiseToScroll=n()}(window,(function(){return function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n){var t=this;e.exports=function(e){if("Object"!==(e=e||{}).constructor.name)throw new Error("Expected parameter to be an Object, found instead: ".concat(e.constructor.name));var n,o,r,i,l,c=t,u=null,s=null;function a(e,n){c.eventsListeners[e]&&c.eventsListeners[e].forEach((function(e){e.apply(null,n)}))}function p(n){for(var t,o=n.inputBuffer.getChannelData(0),r=o.length,i=0,l=0;l<r;l++)t=o[l],Math.abs(t)>=e.clipLevel&&(this.clipping=!0,this.lastClip=window.performance.now()),i+=t*t;var u=Math.sqrt(i/r);return this.checkClipping()&&c.onClipping(),c.volume=Math.max(u,c.volume*e.averaging),c.volume}return e.clipLevel=e.clipLevel||.8,e.averaging=e.averaging||.95,e.clipLag=e.clipLag||150,e.scrollableContainer=e.scrollableContainer||document.body,e.scrollDebounce=e.scrollDebounce||100,e.scrollByTop=e.scrollByTop||.65*e.scrollableContainer.clientHeight,e.scrollByLeft=e.scrollByLeft||.65*e.scrollableContainer.clientWidth,e.scrollByBehavior=e.scrollByBehavior||"smooth",e.scrollByOptions=e.scrollByOptions||{top:e.scrollByTop,left:e.scrollByLeft,behavior:e.scrollByBehavior},c.eventsListeners={},c.volume=0,c.onClipping=function(){e.scrollableContainer&&c.scroll(),a("clipping",[c.volume])},c.scroll=(o=function(){e.scrollableContainer.scrollBy(e.scrollByOptions),a("scroll",[]),a("noise",[c.volume])},r=e.scrollDebounce,function(){var e=this,n=arguments,t=function(){l=null,i||o.apply(e,n)},c=i&&!l;clearTimeout(l),l=setTimeout(t,r),c&&o.apply(e,n)}),c.detect=function(){return new Promise((function(e,n){try{new(window.AudioContext||window.webkitAudioContext)}catch(e){return n("audioContext not supported")}if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)return n("mediaDevices not supported");e(c)}))},c.start=function(){return c.detect().then((function(){return(n=new(window.AudioContext||window.webkitAudioContext)).resume().then((function(){return navigator.mediaDevices.getUserMedia({audio:!0})})).then((function(t){return u=n.createMediaStreamSource(t),s=function(n){var t=n.createScriptProcessor(512);return t.onaudioprocess=p,t.clipping=!1,t.lastClip=0,t.connect(n.destination),t.checkClipping=function(){return!!this.clipping&&(this.lastClip+e.clipLag<window.performance.now()&&(this.clipping=!1),this.clipping)},c.stop=function(){t.disconnect(),t.onaudioprocess=null},t}(n),u.connect(s),c}))}))},c.on=function(e,n){return c.eventsListeners[e]||(c.eventsListeners[e]=[]),c.eventsListeners[e].push(n),c},c}}])}));